exports.id=535,exports.ids=[535],exports.modules={7952:(e,t,s)=>{"use strict";s.d(t,{wI:()=>AppProvider,qD:()=>useApp});var a=s(997),i=s(6689);let r=[{id:"1",title:"Bicicleta urbana",condition:"Usado",price:120,distance:"2km",image:"https://images.unsplash.com/photo-1517824806708-5f3761f9f716?auto=format&fit=crop&w=800&q=60"},{id:"2",title:"M\xe1quina de caf\xe9",condition:"Nueva",price:300,distance:"5km",image:"https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=800&q=60"},{id:"3",title:"Silla de madera",condition:"Usado",price:45,distance:"1.2km",image:"https://images.unsplash.com/photo-1582582494706-4a6c3a3c3c3a?auto=format&fit=crop&w=800&q=60"}],n={name:"Franz Z",initials:"FZ",level:"Embajador Circular",credits:420,kg_saved:32,items_saved:14},o=[{id:"p1",author:"Ana",time:"2h",content:"Intercambi\xe9 una l\xe1mpara hoy, \xa1qu\xe9 satisfacci\xf3n!",likes:12,comments:3},{id:"p2",author:"Carlos",time:"1d",content:"Alguien tiene una silla extra?",likes:4,comments:1}],d=(0,i.createContext)(null);function AppProvider({children:e}){let[t,s]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[m,x]=(0,i.useState)(null),[u,p]=(0,i.useState)([]);function addProduct(e){let t=Date.now().toString(),a={id:t,title:e.title||"Sin t\xedtulo",condition:e.condition||"Usado",price:e.price||0,distance:"0.5km",image:e.image||"https://images.unsplash.com/photo-1526178619724-1d6a3b8d7b7a?auto=format&fit=crop&w=800&q=60"};return s(e=>[a,...e]),a}function addPost(e){let t={id:Date.now().toString(),author:m?.name||"Anon",time:"Ahora",content:e,likes:0,comments:0};return c(e=>[t,...e]),t}function toggleSave(e){s(t=>t.map(t=>t.id===e?{...t,saved:!t.saved}:t))}function requestItem(e){let s=t.find(t=>t.id===e);return s?m&&m.credits>=s.price?(x(e=>({...e,credits:e.credits-s.price})),{ok:!0}):{ok:!1,msg:"Cr\xe9ditos insuficientes"}:{ok:!1,msg:"No encontrado"}}function updateUser(e){x(t=>({...t,...e}))}function login(e){let t={...n,...e,loggedIn:!0};return x(t),t}function logout(){let e={...n,loggedIn:!1};return x(e),e}function addToast(e,t={type:"info",duration:3500}){let s=Date.now().toString(),a={id:s,message:e,type:t.type||"info"};return p(e=>[a,...e]),0!==t.duration&&setTimeout(()=>p(e=>e.filter(e=>e.id!==s)),t.duration||3500),s}return(0,i.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("products")),t=JSON.parse(localStorage.getItem("posts")),a=JSON.parse(localStorage.getItem("user"));s(e&&Array.isArray(e)?e:r),c(t&&Array.isArray(t)?t:o),x(a?{...a,loggedIn:!!a.loggedIn}:{...n,loggedIn:!1})}catch(e){s(r),c(o),x({...n,loggedIn:!1})}},[]),(0,i.useEffect)(()=>{t.length&&localStorage.setItem("products",JSON.stringify(t))},[t]),(0,i.useEffect)(()=>{l.length&&localStorage.setItem("posts",JSON.stringify(l))},[l]),(0,i.useEffect)(()=>{m&&localStorage.setItem("user",JSON.stringify(m))},[m]),(0,i.useEffect)(()=>{localStorage.setItem("toasts",JSON.stringify(u||[]))},[u]),a.jsx(d.Provider,{value:{products:t,posts:l,user:m,addProduct,addPost,toggleSave,requestItem,updateUser,login,logout,toasts:u,addToast},children:e})}function useApp(){let e=(0,i.useContext)(d);if(!e)throw Error("useApp must be used within AppProvider");return e}},3535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>App});var a=s(997);s(6764);var i=s(6689),r=s(1664),n=s.n(r),o=s(1197),d=s(7764),l=s(5657),c=s(9525),m=s(4933);function BottomNav(){return(0,a.jsxs)("nav",{className:"fixed bottom-2 md:bottom-4 left-1/2 -translate-x-1/2 bg-white px-3 md:px-6 py-2 md:py-4 rounded-2xl md:rounded-3xl shadow-2xl flex gap-3 md:gap-6 items-center z-40 border border-green-100",children:[a.jsx(n(),{href:"/",className:"nav-item text-gray-600 hover:text-green-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-xs md:text-sm",children:[a.jsx(o.Z,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"text-xs mt-0.5 md:mt-1 hidden sm:inline",children:"Inicio"})]})}),a.jsx(n(),{href:"/onboarding",className:"nav-item text-gray-600 hover:text-green-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-xs md:text-sm",children:[a.jsx(d.Z,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"text-xs mt-0.5 md:mt-1 hidden sm:inline",children:"Buscar"})]})}),a.jsx(n(),{href:"/publish",className:"nav-item",children:a.jsx("div",{className:"flex flex-col items-center text-xs md:text-sm text-green-600 bg-green-50 p-1.5 md:p-2 rounded-full hover:bg-green-100 transition-colors",children:a.jsx(l.Z,{size:24,className:"md:w-7 md:h-7"})})}),a.jsx(n(),{href:"/social",className:"nav-item text-gray-600 hover:text-green-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-xs md:text-sm",children:[a.jsx(c.Z,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"text-xs mt-0.5 md:mt-1 hidden sm:inline",children:"Comunidad"})]})}),a.jsx(n(),{href:"/profile",className:"nav-item text-gray-600 hover:text-green-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-xs md:text-sm",children:[a.jsx(m.Z,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"text-xs mt-0.5 md:mt-1 hidden sm:inline",children:"Perfil"})]})})]})}var x=s(7952);function Toasts({toasts:e=[]}){return a.jsx("div",{className:"fixed right-4 bottom-24 space-y-2 z-50",children:e.map(e=>a.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-md text-sm ${"error"===e.type?"bg-red-50 text-red-800":"bg-white text-gray-800"}`,children:e.message},e.id))})}function AppShell({Component:e,pageProps:t}){let{toasts:s}=(0,x.qD)();return(0,a.jsxs)("div",{className:"min-h-screen pb-28 md:pb-20 w-screen overflow-x-hidden",children:[a.jsx(e,{...t}),a.jsx(BottomNav,{}),a.jsx(Toasts,{toasts:s})]})}function App({Component:e,pageProps:t}){return(0,i.useEffect)(()=>{},[]),a.jsx(x.wI,{children:a.jsx(AppShell,{Component:e,pageProps:t})})}},6764:()=>{}};