exports.id=535,exports.ids=[535],exports.modules={7952:(e,t,s)=>{"use strict";s.d(t,{wI:()=>AppProvider,qD:()=>useApp});var i=s(997),r=s(6689);let a=[{id:"1",title:"Bicicleta urbana",condition:"Usado",price:120,distance:"2km",image:"https://images.unsplash.com/photo-1517824806708-5f3761f9f716?auto=format&fit=crop&w=800&q=60"},{id:"2",title:"M\xe1quina de caf\xe9",condition:"Nueva",price:300,distance:"5km",image:"https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=800&q=60"},{id:"3",title:"Silla de madera",condition:"Usado",price:45,distance:"1.2km",image:"https://images.unsplash.com/photo-1582582494706-4a6c3a3c3c3a?auto=format&fit=crop&w=800&q=60"}],o={name:"Franz Z",initials:"FZ",level:"Embajador Circular",credits:420,kg_saved:32,items_saved:14},n=[{id:"p1",author:"Ana",time:"2h",content:"Intercambi\xe9 una l\xe1mpara hoy, \xa1qu\xe9 satisfacci\xf3n!",likes:12,comments:3},{id:"p2",author:"Carlos",time:"1d",content:"Alguien tiene una silla extra?",likes:4,comments:1}],l=(0,r.createContext)(null);function AppProvider({children:e}){let[t,s]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[p,x]=(0,r.useState)([]);function addProduct(e){let t=Date.now().toString(),i={id:t,title:e.title||"Sin t\xedtulo",condition:e.condition||"Usado",price:e.price||0,distance:"0.5km",image:e.image||"https://images.unsplash.com/photo-1526178619724-1d6a3b8d7b7a?auto=format&fit=crop&w=800&q=60"};return s(e=>[i,...e]),i}function addPost(e){let t={id:Date.now().toString(),author:u?.name||"Anon",time:"Ahora",content:e,likes:0,comments:0};return d(e=>[t,...e]),t}function toggleSave(e){s(t=>t.map(t=>t.id===e?{...t,saved:!t.saved}:t))}function requestItem(e){let s=t.find(t=>t.id===e);return s?u&&u.credits>=s.price?(m(e=>({...e,credits:e.credits-s.price})),{ok:!0}):{ok:!1,msg:"Cr\xe9ditos insuficientes"}:{ok:!1,msg:"No encontrado"}}function updateUser(e){m(t=>({...t,...e}))}function login(e){let t={...o,...e,loggedIn:!0};return m(t),t}function logout(){let e={...o,loggedIn:!1};return m(e),e}function addToast(e,t={type:"info",duration:3500}){let s=Date.now().toString(),i={id:s,message:e,type:t.type||"info"};return x(e=>[i,...e]),0!==t.duration&&setTimeout(()=>x(e=>e.filter(e=>e.id!==s)),t.duration||3500),s}return(0,r.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("products")),t=JSON.parse(localStorage.getItem("posts")),i=JSON.parse(localStorage.getItem("user"));s(e&&Array.isArray(e)?e:a),d(t&&Array.isArray(t)?t:n),m(i?{...i,loggedIn:!!i.loggedIn}:{...o,loggedIn:!1})}catch(e){s(a),d(n),m({...o,loggedIn:!1})}},[]),(0,r.useEffect)(()=>{t.length&&localStorage.setItem("products",JSON.stringify(t))},[t]),(0,r.useEffect)(()=>{c.length&&localStorage.setItem("posts",JSON.stringify(c))},[c]),(0,r.useEffect)(()=>{u&&localStorage.setItem("user",JSON.stringify(u))},[u]),(0,r.useEffect)(()=>{localStorage.setItem("toasts",JSON.stringify(p||[]))},[p]),i.jsx(l.Provider,{value:{products:t,posts:c,user:u,addProduct,addPost,toggleSave,requestItem,updateUser,login,logout,toasts:p,addToast},children:e})}function useApp(){let e=(0,r.useContext)(l);if(!e)throw Error("useApp must be used within AppProvider");return e}},3535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>App});var i=s(997);s(6764);var r=s(6689),a=s(1664),o=s.n(a),n=s(1197),l=s(7764),c=s(5657),d=s(9525),u=s(4933);function BottomNav(){return(0,i.jsxs)("nav",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-white px-6 py-3 rounded-2xl shadow-lg flex gap-6 items-center z-40",children:[i.jsx(o(),{href:"/",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700",children:[i.jsx(n.Z,{size:20}),i.jsx("span",{children:"Inicio"})]})}),i.jsx(o(),{href:"/onboarding",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700",children:[i.jsx(l.Z,{size:20}),i.jsx("span",{children:"Buscar"})]})}),i.jsx(o(),{href:"/publish",children:i.jsx("div",{className:"flex flex-col items-center text-sm text-green-600",children:i.jsx(c.Z,{size:28})})}),i.jsx(o(),{href:"/social",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700",children:[i.jsx(d.Z,{size:20}),i.jsx("span",{children:"Comunidad"})]})}),i.jsx(o(),{href:"/profile",children:(0,i.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700",children:[i.jsx(u.Z,{size:20}),i.jsx("span",{children:"Perfil"})]})})]})}var m=s(7952);function Toasts({toasts:e=[]}){return i.jsx("div",{className:"fixed right-4 bottom-24 space-y-2 z-50",children:e.map(e=>i.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-md text-sm ${"error"===e.type?"bg-red-50 text-red-800":"bg-white text-gray-800"}`,children:e.message},e.id))})}function AppShell({Component:e,pageProps:t}){let{toasts:s}=(0,m.qD)();return(0,i.jsxs)("div",{className:"min-h-screen pb-20",children:[i.jsx(e,{...t}),i.jsx(BottomNav,{}),i.jsx(Toasts,{toasts:s})]})}function App({Component:e,pageProps:t}){return(0,r.useEffect)(()=>{},[]),i.jsx(m.wI,{children:i.jsx(AppShell,{Component:e,pageProps:t})})}},6764:()=>{}};