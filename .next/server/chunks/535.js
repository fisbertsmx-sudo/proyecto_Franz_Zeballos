exports.id=535,exports.ids=[535],exports.modules={7952:(e,t,s)=>{"use strict";s.d(t,{wI:()=>AppProvider,qD:()=>useApp});var a=s(997),r=s(6689);let i=[{id:"1",title:"Bicicleta urbana",condition:"Usado",price:120,distance:"2km",image:"https://images.unsplash.com/photo-1517824806708-5f3761f9f716?auto=format&fit=crop&w=800&q=60"},{id:"2",title:"M\xe1quina de caf\xe9",condition:"Nueva",price:300,distance:"5km",image:"https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=800&q=60"},{id:"3",title:"Silla de madera",condition:"Usado",price:45,distance:"1.2km",image:"https://images.unsplash.com/photo-1582582494706-4a6c3a3c3c3a?auto=format&fit=crop&w=800&q=60"}],n={name:"Franz Z",initials:"FZ",level:"Embajador Circular",credits:420,kg_saved:32,items_saved:14},o=[{id:"p1",author:"Ana",time:"2h",content:"Intercambi\xe9 una l\xe1mpara hoy, \xa1qu\xe9 satisfacci\xf3n!",likes:12,comments:3},{id:"p2",author:"Carlos",time:"1d",content:"Alguien tiene una silla extra?",likes:4,comments:1}],l=(0,r.createContext)(null);function AppProvider({children:e}){let[t,s]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(null),[x,p]=(0,r.useState)([]);function addProduct(e){let t=Date.now().toString(),a={id:t,title:e.title||"Sin t\xedtulo",condition:e.condition||"Usado",price:e.price||0,distance:"0.5km",image:e.image||"https://images.unsplash.com/photo-1526178619724-1d6a3b8d7b7a?auto=format&fit=crop&w=800&q=60"};return s(e=>[a,...e]),a}function addPost(e){let t={id:Date.now().toString(),author:m?.name||"Anon",time:"Ahora",content:e,likes:0,comments:0};return d(e=>[t,...e]),t}function toggleSave(e){s(t=>t.map(t=>t.id===e?{...t,saved:!t.saved}:t))}function requestItem(e){let s=t.find(t=>t.id===e);return s?m&&m.credits>=s.price?(u(e=>({...e,credits:e.credits-s.price})),{ok:!0}):{ok:!1,msg:"Cr\xe9ditos insuficientes"}:{ok:!1,msg:"No encontrado"}}function updateUser(e){u(t=>({...t,...e}))}function login(e){let t={...n,...e,loggedIn:!0};return u(t),t}function logout(){let e={...n,loggedIn:!1};return u(e),e}function addToast(e,t={type:"info",duration:3500}){let s=Date.now().toString(),a={id:s,message:e,type:t.type||"info"};return p(e=>[a,...e]),0!==t.duration&&setTimeout(()=>p(e=>e.filter(e=>e.id!==s)),t.duration||3500),s}return(0,r.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("products")),t=JSON.parse(localStorage.getItem("posts")),a=JSON.parse(localStorage.getItem("user"));s(e&&Array.isArray(e)?e:i),d(t&&Array.isArray(t)?t:o),u(a?{...a,loggedIn:!!a.loggedIn}:{...n,loggedIn:!1})}catch(e){s(i),d(o),u({...n,loggedIn:!1})}},[]),(0,r.useEffect)(()=>{t.length&&localStorage.setItem("products",JSON.stringify(t))},[t]),(0,r.useEffect)(()=>{c.length&&localStorage.setItem("posts",JSON.stringify(c))},[c]),(0,r.useEffect)(()=>{m&&localStorage.setItem("user",JSON.stringify(m))},[m]),(0,r.useEffect)(()=>{localStorage.setItem("toasts",JSON.stringify(x||[]))},[x]),a.jsx(l.Provider,{value:{products:t,posts:c,user:m,addProduct,addPost,toggleSave,requestItem,updateUser,login,logout,toasts:x,addToast},children:e})}function useApp(){let e=(0,r.useContext)(l);if(!e)throw Error("useApp must be used within AppProvider");return e}},3535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>App});var a=s(997);s(6764);var r=s(6689),i=s(1664),n=s.n(i),o=s(1197),l=s(7764),c=s(5657),d=s(9525),m=s(4933);function BottomNav(){return(0,a.jsxs)("nav",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-white px-6 py-4 rounded-3xl shadow-2xl flex gap-6 items-center z-40 border border-green-100",children:[a.jsx(n(),{href:"/",className:"nav-item text-gray-600 hover:text-green-700",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[a.jsx(o.Z,{size:20}),a.jsx("span",{className:"text-xs mt-1",children:"Inicio"})]})}),a.jsx(n(),{href:"/onboarding",className:"nav-item text-gray-600 hover:text-green-700",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[a.jsx(l.Z,{size:20}),a.jsx("span",{className:"text-xs mt-1",children:"Buscar"})]})}),a.jsx(n(),{href:"/publish",className:"nav-item",children:a.jsx("div",{className:"flex flex-col items-center text-sm text-green-600 bg-green-50 p-2 rounded-full",children:a.jsx(c.Z,{size:28})})}),a.jsx(n(),{href:"/social",className:"nav-item text-gray-600 hover:text-green-700",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[a.jsx(d.Z,{size:20}),a.jsx("span",{className:"text-xs mt-1",children:"Comunidad"})]})}),a.jsx(n(),{href:"/profile",className:"nav-item text-gray-600 hover:text-green-700",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[a.jsx(m.Z,{size:20}),a.jsx("span",{className:"text-xs mt-1",children:"Perfil"})]})})]})}var u=s(7952);function Toasts({toasts:e=[]}){return a.jsx("div",{className:"fixed right-4 bottom-24 space-y-2 z-50",children:e.map(e=>a.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-md text-sm ${"error"===e.type?"bg-red-50 text-red-800":"bg-white text-gray-800"}`,children:e.message},e.id))})}function AppShell({Component:e,pageProps:t}){let{toasts:s}=(0,u.qD)();return(0,a.jsxs)("div",{className:"min-h-screen pb-20",children:[a.jsx(e,{...t}),a.jsx(BottomNav,{}),a.jsx(Toasts,{toasts:s})]})}function App({Component:e,pageProps:t}){return(0,r.useEffect)(()=>{},[]),a.jsx(u.wI,{children:a.jsx(AppShell,{Component:e,pageProps:t})})}},6764:()=>{}};